<!DOCTYPE html>
<html class="h-100" lang="en">
<head>
	<meta charset="UTF-8">
	<title>Adam's site</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/style.css">
	<style>
	.grecaptcha-badge {
		display: none;
	}
	</style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js"></script>
	<script src="https://use.fontawesome.com/releases/v5.6.3/js/all.js"></script>
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	<script>
	$(document).ready(function() {
		$('#contact-form').submit(function(event) {
			event.preventDefault();
			grecaptcha.reset();
			grecaptcha.execute();
		});
	});

	function onSubmit(token) {
		$('#submit-button').attr('disabled', 'disabled');
		$('#spinner').show();

		$.ajax({
			url: 'https://usebasin.com/f/f8a55f3aacfc.json',
			method: 'POST',
			data: {
				'name': $('#name').val(),
				'email': $('#email').val(),
				'message': $('#message').val(),
				'g-recaptcha-response': token
			},
			dataType: 'json'
		})
		.done(function() {
			$('#spinner').hide();
			$('#submit-button').removeAttr('disabled');
			$('#contact-form-result').attr('class', 'alert alert-success mt-2 mb-0').html('Email sent successfully.');
			// $('#name, #email, #message').val('');
			$('#contact-form').trigger('reset');
		})
		.fail(function() {
			$('#spinner').hide();
			$('#submit-button').removeAttr('disabled');
			$('#contact-form-result').attr('class', 'alert alert-danger mt-2 mb-0').html('Error. Please try again.');
		});
	}
	</script>
	<script src="/js/index.js"></script>
</head>
<body class="d-flex flex-column h-100">
	<header>
		<nav id="navbar" class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
			<div class="container">
				<a class="navbar-brand" href="/">Adam's site</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="nav nav-pills">
						<li class="nav-item">
							<a class="nav-link" href="/">About Me</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/portfolio/">Portfolio</a>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="/contact/">Contact <span class="sr-only">(current)</span></a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<main role="main" class="flex-shrink-0">
		<div id="contact" class="container">
			<div class="jumbotron">
				<h2 class="text-center">Contact</h2>
				<div class="row">
					<div class="col">
						<form id="contact-form" action="https://usebasin.com/f/f8a55f3aacfc" method="post" accept-charset="UTF-8">
							<div class="form-group mb-2">
								<input id="name" class="form-control" type="text" name="name" placeholder="Your name" required>
							</div>
							<div class="form-group mb-2">
								<input id="email" class="form-control" type="email" name="email" placeholder="Your email address" required>
							</div>
							<div class="form-group mb-2">
								<textarea id="message" class="form-control" rows="3" name="message" placeholder="Your message" required></textarea>
							</div>
							<div class="form-group mb-2">
								<span>This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy" target="_blank" title="Privacy Policy">Privacy Policy</a> and <a href="https://policies.google.com/terms" target="_blank" title="Terms of Service">Terms of Service</a> apply.</span>
								<div id="recaptcha" class="g-recaptcha" data-sitekey="6Lew3SMUAAAAAJ82QoS7gqOTkRI_dhYrFy1f7Sqy" data-callback="onSubmit" data-size="invisible"></div>
							</div>
							<button id="submit-button" class="btn btn-primary mx-auto d-block g-recaptcha" type="submit">Send</button>
						</form>
						<div id="spinner" class="text-center mt-2" style="display: none;">
							<div class="spinner-border text-primary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div id="contact-form-result" class="alert d-none" role="alert"></div>
					</div>
					<div class="col">
						<p>You can use the form on the left to send me a message. I try to reply as soon as possible.</p>
						<p>You can also have a look at my profile on other sites.</p>
						<div class="profile-buttons">
							<a class="social-button" href="https://www.linkedin.com/in/adam-papp/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin fa-3x"></i></a>
							<a class="social-button" href="https://github.com/Adam111" target="_blank" title="GitHub"><i class="fab fa-github fa-3x"></i></a>
							<a id="profile-link" class="social-button" href="https://www.freecodecamp.org/adam111" target="_blank" title="freeCodeCamp"><i class="fab fa-free-code-camp fa-3x"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer class="footer mt-auto py-3 bg-light">
		<div class="container text-center">
			<div class="profile-buttons">
				<a class="social-button" href="https://www.linkedin.com/in/adam-papp/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin fa-2x"></i></a>
				<a class="social-button" href="https://github.com/Adam111" target="_blank" title="GitHub"><i class="fab fa-github fa-2x"></i></a>
				<a id="profile-link" class="social-button" href="https://www.freecodecamp.org/adam111" target="_blank" title="freeCodeCamp"><i class="fab fa-free-code-camp fa-2x"></i></a>
			</div>
			<span class="text-muted">Made by Adam</span>
		</div>
	</footer>
</body>
</html>